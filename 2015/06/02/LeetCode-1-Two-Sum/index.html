<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LeetCode 1 Two Sum | Luvinahlc&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="问题描述Given an array of integers, find two numbers such that they add up to a specific target number.
The function twoSum should return indices of the two numbers such that they add up to the target, wh">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode 1 Two Sum">
<meta property="og:url" content="http://yoursite.com/2015/06/02/LeetCode-1-Two-Sum/index.html">
<meta property="og:site_name" content="Luvinahlc's Blog">
<meta property="og:description" content="问题描述Given an array of integers, find two numbers such that they add up to a specific target number.
The function twoSum should return indices of the two numbers such that they add up to the target, wh">
<meta property="og:updated_time" content="2015-06-03T07:58:57.523Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode 1 Two Sum">
<meta name="twitter:description" content="问题描述Given an array of integers, find two numbers such that they add up to a specific target number.
The function twoSum should return indices of the two numbers such that they add up to the target, wh">
  
    <link rel="alternative" href="/atom.xml" title="Luvinahlc&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xjh1l.com1.z0.glb.clouddn.com/Luvina.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Luvina</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Luvinahlc" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/1753184915?wvr=3.6&lf=reg" title="weibo">weibo</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/luvinahlc" title="facebook">facebook</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/APP/" style="font-size: 10px;">APP</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Exercise/" style="font-size: 10px;">Exercise</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/LeetCode/" style="font-size: 20px;">LeetCode</a> <a href="/tags/OpenMesh/" style="font-size: 10px;">OpenMesh</a> <a href="/tags/map/" style="font-size: 10px;">map</a> <a href="/tags/仙剑奇侠传6/" style="font-size: 10px;">仙剑奇侠传6</a> <a href="/tags/关联容器/" style="font-size: 10px;">关联容器</a> <a href="/tags/单链表/" style="font-size: 10px;">单链表</a> <a href="/tags/字符串/" style="font-size: 10px;">字符串</a> <a href="/tags/数据仓库/" style="font-size: 10px;">数据仓库</a> <a href="/tags/杂絮/" style="font-size: 10px;">杂絮</a> <a href="/tags/自由变形算法/" style="font-size: 10px;">自由变形算法</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://eclipseflower.github.io/">EclipseFlower&#39;s Blog</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://6carol6.github.io/">Carol&#39;s Blog</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">M.Sc. Student in Department of Computer Science, Nanjing University</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Luvina</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xjh1l.com1.z0.glb.clouddn.com/Luvina.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Luvina</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Luvinahlc" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/1753184915?wvr=3.6&lf=reg" title="weibo">weibo</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/luvinahlc" title="facebook">facebook</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-LeetCode-1-Two-Sum" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/02/LeetCode-1-Two-Sum/" class="article-date">
  	<time datetime="2015-06-02T12:15:16.000Z" itemprop="datePublished">2015-06-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      LeetCode 1 Two Sum
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/map/">map</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/关联容器/">关联容器</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Online-Judge/">Online Judge</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="问题描述">问题描述</h1><p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution.</p>
<p>Input: numbers={2, 7, 11, 15}, target=9<br>Output: index1=1, index2=2<br><a id="more"></a></p>
<h1 id="问题分析与思路">问题分析与思路</h1><p>&emsp;&emsp;问题描述简单一点说的话，就是在一个数组中，找两个数字相加能得到target，输出这两个数字的index。<br>思路如下：<br>&emsp;&emsp;如果是想通过遍历来暴力搜索，复杂度O(n^2)那结果一定会超时，所以这个方法肯定PASS。<br>&emsp;&emsp;要想节约时间，提高效率，那就需要做一些其他的处理。由于最后需要输出数字的index，所以如果通过排序之后查找则得不到数字的index，因此需要保存数字的index。这个时候就可以想到map的数据结构，map中key和value分别存储数组的元素和元素对应的index，这样在查找是否存在某一元素的时候可以很快的获得这一元素所对应的index，复杂度O(n)。<br>&emsp;&emsp;另外，这里考虑到这个数组不一定是一个集合，比如说会有重复的元素，比如说numbers={2,2}, target=4，那么在这种情况下map中存储的key多对应的index应该是多少呢？一个key只能对应一个value，所以这里我想的是，当key已经存在时，则删除这个key，重新添加进新的key和value，也就是说，相同的key，map中存储的value是数组中最后一个key所对应的value。因为在问题描述中说可以假设每组输入都可以得到唯一的一个解，所以这样做不会影响结果的正确性。</p>
<h1 id="问题求解">问题求解</h1><p>&emsp;&emsp;C++的解决方案：<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; numsMap;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (numsMap.count(nums[i]) == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                numsMap.erase(nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            numsMap.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(nums[i], i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator it = numsMap.find(target-nums[i]);</span><br><span class="line">            <span class="keyword">if</span> ( it != numsMap.end() &amp;&amp; numsMap[target-nums[i]] &gt; i)</span><br><span class="line">            &#123;</span><br><span class="line">                result.push_back(i+<span class="number">1</span>);</span><br><span class="line">                result.push_back(numsMap[target-nums[i]] + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h1 id="相关知识点总结">相关知识点总结</h1><h2 id="关联容器">关联容器</h2><p>&emsp;&emsp; 两个基本的关联容器类型是map和set，它们的对象所包含的元素都具有不同的键，不允许为同一个键添加第二个元素。如果一个键必须对应多个实例，则需要使用multimap或multiset类型，这两种类型允许许多个元素拥有相同的键。</p>
<h2 id="pair类型">pair类型</h2><p>-&emsp;&emsp; pair<t1, t2=""> p1(v1, v2)&emsp;&emsp;创建一份pair对象，它的两个元素分别是T1和T2类型，其中first成员初始化为v1，而second成员初始化为v2。</t1,></p>
<h2 id="map类型">map类型</h2><h3 id="使用下标访问map对象">使用下标访问map对象</h3><p>&emsp;&emsp; 使用下标访问map与使用下标访问数组或vector的行为截然不同：用下标访问不存在的元素将导致在map容器中添加一个新的元素，它的键即为该下标值。</p>
<h3 id="insert操作">insert操作</h3><p>-&emsp;&emsp;m.insert(e)&emsp;&emsp;e是一个value_type类型的值。如果键(e.first)不在m中，则插入一个值为e.second的新元素；如果该键在m中已存在，则保持m不变。</p>
<h3 id="查询操作">查询操作</h3><p>-&emsp;&emsp;m.count(k)&emsp;&emsp;返回m中k的出现次数。对于map对象，count成员的返回值只能是0或者1，如果返回值非0，则可以使用下标操作符来获取该键所关联的值，而不必担心这样做会在map中插入新的元素。<br>-&emsp;&emsp;m.find(k)&emsp;&emsp;如果m容器中存在按k索引的元素，则返回指向该元素的迭代器。如果不存在，则返回超出末端迭代器。</p>
<h3 id="删除操作">删除操作</h3><p>-&emsp;&emsp;m.erase(k)&emsp;&emsp;删除m中键为k的元素。返回size_tyoe类型的值，表示删除的元素个数</p>
<h3 id="迭代遍历">迭代遍历</h3><p>&emsp;&emsp;map提供begin和end运算。下面是一个迭代遍历的例子：<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::const_iterator map_it = word_count.begin();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (map_it != word_count.end()) &#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; map_it-&gt;first &lt;&lt; <span class="string">" occurs "</span></span><br><span class="line">         &lt;&lt; map_it-&gt;sencond &lt;&lt; <span class="string">" times"</span> &lt;&lt; endl;</span><br><span class="line">    ++map_it;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;&emsp;首先，初始化map_it迭代器，使之执行word_count的第一个元素。只要该迭代器不等于end的值，就输出当前元素并给迭代器加1。</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/06/03/LeetCode-2-Add-Two-Numbers/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          LeetCode 2 Add Two Numbers
        
      </div>
    </a>
  
  
    <a href="/2015/05/30/MyFirstPost/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">第一篇博客破蛋</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="LeetCode-1-Two-Sum" data-title="LeetCode 1 Two Sum" data-url="http://yoursite.com/2015/06/02/LeetCode-1-Two-Sum/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>



  
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="post-LeetCode-1-Two-Sum" data-title="LeetCode 1 Two Sum" data-url="http://yoursite.com/2015/06/02/LeetCode-1-Two-Sum/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'luvinahlcgithubio'};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->
  </section>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Luvina
    	</div>
      	<div class="footer-right">
		</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>